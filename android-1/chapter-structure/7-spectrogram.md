# 7 Spectrogram

A spectrogram is a visual representation of the energy spectrum of photon (gamma and X-ray)

radiation varying with time.

The Spectrogram tab displays a plot of either the spectrogram currently being recorded or the spectrogram loaded from the Spectrogram Library. There is no separate tab for viewing spectrograms, as there is for viewing spectra.

Each line on the vertical (Y scale) is a separate spectrum typed in the "Capture Interval". The size of the interval can be set in the settings. The horizontal (X scale) shows either spectrum channel numbers or photon energy calculated by analogy with the Spectrum tab. The count rate in each individual channel (Z scale, similar to the Y scale in the Spectrum and View tabs) is converted to a

brightness or color scale, which can be zoomed using the sliders below the spectrogram. By

pressing the the scale is automatically zoomed by the minimum and maximum values of the recorded or selected from the library spectrogram.

The energy lines on the spectrogram will look like vertical bands. The appearance of new bands will indicate a change in the spectral composition of the registered radiation. The Y-axis can display calendar time, spectrogram accumulation time or countdown number.

The total spectrogram accumulation time and capture interval are displayed at the top left.

A long tap on the chart displays the marker lines and a "magnifying glass" that enlarges the section of the chart at the intersection of the marker lines:

Under the magnifying glass the information about the spectrum channel that is in the center of the magnifying glass is displayed: its corresponding time or count number, count rate (number of pulses in this channel divided by spectrum accumulation time) and, in square brackets, total count rate for the spectrum (sum of pulses in all channels divided by accumulation time).

|   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| - | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|   | <p>Start/stop recording of the spectrogram. Once stopped, recording can be resumed. When you exit the application, the spectrogram recording also stops. Every minute the recorded spectrogram is automatically saved in the library.<br><br>Loading a spectrogram from the library does not stop the recording of the spectrogram, it continues in the background.</p>                                                                                                                                         |
|   | <p>Opens the settings related to the spectrogram plot. In the settings you can choose:<br><br>· Capture Interval: at what frequency the spectrum "snapshots" (counts) are taken. Each sample (spectrum) is shown on the plot by a number of horizontal squares. Acceptable values are from 1 to 600 seconds. Since the timer of the device is not synchronized exactly with the timer of the smartphone, the intervals of accumulation of spectra received from the device can have a scatter of ±1 second.</p> |

|   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| - | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|   | <p>- ·  Maximum number of samples: Spectrogram buffer capacity. If the number of counts in the recorded spectrogram is equal to the specified value, the oldest count is deleted before adding a count. The maximum buffer capacity is 10,000 counts.<br><br>- ·  The minimum and maximum values of the scale: the count rate limits for the engine at the bottom of the tab, which controls the brightness/palette of the plot. The squares of counts for which the count rate value is outside the specified values are displayed with border colors (start/end of the color scale).<br><br>- ·  Auto brightness: do not go beyond the boundary: The minimum and maximum values of the scale can be automatically corrected by the application if the calculated values<br><br>exceed the limits the calculated minimum and maximum values are out of the limits specified in the settings. Setting these options blocks the values of the engine from exceeding the specified limits.<br><br>- ·  Scale: If you select the logarithmic scale, the decimal logarithm is taken from the value of its count rate before calculating the brightness/color of the square. Quickly switch the scale - with the "Lin." and "Log." icons, as well as by double-tapping the plot.<br><br>- ·  Merge channels by: To speed up rendering of large spectrograms, you can combine spectrogram channels by 2 or 4. When merging, the number of pulses in the adjacent 2 or 4 channels is summed. As a result, the displayed spectrogram has 512 or 256 channels, respectively.<br><br>- ·  Y-axis units: you can select the calendar time (counted from the spectrogram recording start), spectrogram accumulation time (hours:minutes:seconds), count number (counts are numbered from zero), or disable the display to save screen space.<br><br>- ·  X-axis units - channel number or photon energy.<br><br>- ·  Palette: when selecting the "Brightness" option, only grayscale is used to display the count rate on the plot. The other two options are a choice between color palettes, the same ones used when rendering tracks.<br><br>- ·  New data: If new counts are added to the end of the chart, they will appear at the bottom of the chart. The oldest values will be at the top of the chart. Otherwise - new counts are added to the beginning of the chart.<br><br>- ·  Resume recording: If automatic resumption of spectrogram recording is enabled, the action selected in the list will be performed when the application is launched and the device is connected. This option is triggered only if the spectrogram was recorded during the previous exit from the application.<br><br>- ·  Automatically colorize the spectrogram when recording: When capturing the next count, automatically select the positions of the scale sliders at the bottom of the graph and, accordingly, color the spectrogram. This happens only if the minimum or maximum value of the count rate in the captured sample exceeds the boundaries of the minimum or maximum value of the count rate for the entire spectrogram.<br><br>- ·  Display isotope information: draw vertical lines that correspond to the energy of this or that isotope at the point of the plot selected by tapping. The header of the application window will display text information about the isotope.<br><br>- ·  Draw the grid: if the size of the squares is more than 3 pixels, then draw a black line grid for better perception of the plot.<br><br>- ·  Draw a graph of the count rate: Display the count rate graph on top of the spectrogram. Since the time axis of the spectrogram is the Y-axis, the graph is rotated by 90° relative to the usual view.<br><br>- ·  Do not shift the initial boundary of the spectrum histogram range in the automatic end boundary shift mode: Selects the dynamic or fixed interval of the displayed spectrum when the spectrum histogram panel is enabled.</p> |

|                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ----------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                     | · When recording a spectrogram, automatically save it in the library: The recorded spectrogram will be stored in the database every minute. After stopping the recording, the saved spectrogram will be visible in the spectrogram library.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Lin. Select the linear scale of conversion of dose rate values to brightness/color. |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Log .                                                                               | Select the logarithmic scale of conversion of dose rate values to brightness/color.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                     | Enlarge the graph (zoom in). The plot can be scrolled both horizontally and vertically. Long press of this button increases the zoom to the maximum. You can also use gestures to zoom.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                                                                     | Zoom out. Long press of this button decreases the scale to one.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Open the spectrogram library.                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|                                                                                     | <p>Open the dropdown menu. Actions are available in the menu:<br><br>- ·  Share spectrogram: Export the spectrogram data to a text file with the extension .rcspg<br><br>and "share" this file, i.e. save it in smartphone memory, send it by mail or via messenger. The .rcspg files can be imported through the spectrogram library.<br><br>- ·  Save spectrogram to library: Save the spectrogram in the database (spectrogram library). It is not necessary to stop recording to save the spectrogram.<br><br>- ·  Isotope info: Show detailed information about the isotope that corresponds to the tapping point on the plot.<br><br>- ·  Close spectrogram: Close the spectrogram, if it was selected from the library, and display a plot of the currently recorded spectrogram.<br><br>- ·  Spectrum histogram: Open or close the panel where the histogram of the spectrum corresponding to the selected interval in the spectrogram is displayed.<br><br>- ·  Load the spectrum to view: Open the spectrum, which is displayed in the spectrum histogram panel, in the "View" tab.<br><br>- ·  Save spectrum to library: Save the spectrum, which is displayed in the spectrum histogram panel, in the spectra library dialog box.</p> |

7.1 Spectrum histogram

The menu command "Spectrum Histogram" in the tab "Spectrogram" opens the panel in which the spectrum corresponding to the interval selected in the spectrogram is displayed:

The interval is selected by dragging the triangles (markers). The scale of the spectrum (linear or logarithmic) corresponds to the scale selected for the spectrogram.

If the marker position is outside the spectrogram area displayed on the screen, the background of the marker will be semi-transparent.

A long touch of the marker sets its position to the corresponding extreme value. If, for example, you perform a long tap on both markers, the spectrum will be displayed for the entire spectrogram.

If during the recording of the spectrogram the corresponding marker is set to the extreme value, which corresponds to the most recent data, then when new data comes from the device, the marker will automatically move to the new extreme position, i.e. as if it "sticks" to the boundary. The behavior of the second marker in such a situation depends on the setting "Do not shift the initial boundary of the spectrum histogram range in the automatic end boundary shift mode". If this setting is enabled (default), the second marker stays where it was and the spectrum interval increases as new data is received from the device. If this setting is off, the second marker is moved so that the interval between the markers remains constant and the spectrum is displayed over the selected fixed interval.
